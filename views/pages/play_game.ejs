<!DOCTYPE html>
<html lang="en">
<head>
    <%- include ("../partials/head.ejs") %>

    <title>Mnemosis | Play</title>
    <link rel="stylesheet" href="../../css/play_game.css">
</head>
<body>
    <%- include ("../partials/header.ejs") %>
    <div class="container mt-5 mb-5" id="main-box">
        <h2 class="heading"><%= game.title %></h2>
        <img src="../<%= game.game_image %>" style="width: 100%; height: auto">
        <div style="height: 20px"></div>
        <h3 class="subheading"><%= game.description %></h3>
        <p class="subheading">Created by: <a href="view_profile_user"><%= creator %></a></p>

        <div class="row" id="controls" style="display: flex; justify-content: center; align-items: center">
            <button class="col-8 btn btn-custom btn-block subheading" id="start-btn">Start Game</button>
            <button class="col-4 btn btn-custom btn-block subheading" id="resume-btn">Resume</button>
            <button class="col-4 btn btn-custom btn-block subheading" id="pause-btn">Pause</button>
            <button class="col-4 btn btn-custom btn-block subheading" id="quit-btn">Give Up</button>
            <div class="col-4 heading" id="accuracy-holder" style="text-align: center; font-size: 75px"></div>
            <div class="col-4">
                <div class="heading" id="clock-holder" data-time="<%= game.time %>" style="text-align: center; font-size: 75px">
                    <% if (game.time < 10) { %>
                        0<%= game.time %>:00
                    <% } else { %>
                        <%= game.time %>:00
                    <% } %>
                </div>
            </div>
        </div>

        <div class="row" id="quiz" data-score="0" data-length="<%= items.length %>">
            <div class="col-8 pb-2 pt-2 mb-2 subheading question-holder"> Question </div>
            <div class="col-4 pb-2 pt-2 mb-2 subheading" style="text-align: center; background-color: #C26DBC; color:white"> Answer </div>

            <% items.forEach(function (item, index) { %>

                <div class="col-1 pb-2 pt-2 border subheading" style="background-color: #EEB5EB; display: flex">
                    <div class="question-holder"> <%= index + 1 %> </div>
                </div>
                <div class="col-7 pb-2 pt-2 border subheading question-wrapper" id="question-<%=index%>">
                    <div class="question-holder"> <%= item.question %> </div>
                </div>
                <div class="col-4 pb-2 pt-2 border subheading answer-wrapper">
                    <input type="text" class="form-control answer-holder" id="answer-<%=index%>" data-answer="<%=item.answer%>" placeholder="press start to enable" disabled>
                </div>

            <% }) %>
        </div>

        <div style="height: 20px"></div>
        <a href="/leaderboard/<%= game._id %>" class="btn btn-custom btn-block" id="leaderboard">View leaderboard</a>
    </div>

    <%- include ("../partials/footer.ejs") %>

    <script src="../../js/play_game.js"></script>
</body>
</html>